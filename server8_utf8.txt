uvicorn : INFO:     
Started server 
process [10512]
At line:1 char:1
+ uvicorn 
app.main:app --port 
8010 > server8.log 
2>&1
+ ~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~
    + CategoryInfo   
           : NotSpe  
  cified: (INFO:     
    Started serve    
r process [10512    
]:String) [], Re    
moteException
    + FullyQualified 
   ErrorId : Native  
  CommandError
 
INFO:     Waiting 
for application 
startup.
INFO:     
Application startup 
complete.
INFO:     Uvicorn 
running on http://127
.0.0.1:8010 (Press 
CTRL+C to quit)
INFO:     127.0.0.1:61937 - "GET /health/live HTTP/1.1" 200 OK
2026-01-31 19:36:14,626 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2026-01-31 19:36:14,626 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-31 19:36:14,652 INFO sqlalchemy.engine.Engine select current_schema()
2026-01-31 19:36:14,652 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-31 19:36:14,685 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2026-01-31 19:36:14,685 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-31 19:36:14,711 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-31 19:36:14,711 INFO sqlalchemy.engine.Engine SELECT 1
2026-01-31 19:36:14,711 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ()
2026-01-31 19:36:14,734 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61939 - "GET /health/ready HTTP/1.1" 200 OK
2026-01-31 19:36:17,145 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-31 19:36:17,148 INFO sqlalchemy.engine.Engine INSERT INTO tickets (id, merchant_id, channel, raw_text, processed_text, classification, classification_confidence, priority, status, assigned_agent, root_cause, resolution_action, resolved_at) VALUES ($1::UUID, $2::UUID, $3::ticket_channel, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::NUMERIC(3, 2), $8::INTEGER, $9::VARCHAR, $10::agent_assignment, $11::VARCHAR, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE) RETURNING tickets.created_at
2026-01-31 19:36:17,148 INFO sqlalchemy.engine.Engine [generated in 0.00023s] (UUID('f249a18d-7826-4e79-b6fb-b86b83b2d2e3'), UUID('e0f3e602-0069-4076-97bb-c334b6bcaaf9'), 'email', 'My checkout is completely broken after migrating to headless. Getting 500 errors when customers try to pay.', None, None, None, None, 'analyzing', 'pending', None, None, None)
2026-01-31 19:36:17,278 INFO sqlalchemy.engine.Engine COMMIT
2026-01-31 19:36:17,286 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-31 19:36:17,289 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.merchant_id, tickets.channel, tickets.raw_text, tickets.processed_text, tickets.classification, tickets.classification_confidence, tickets.priority, tickets.status, tickets.assigned_agent, tickets.root_cause, tickets.resolution_action, tickets.created_at, tickets.resolved_at 
FROM tickets 
WHERE tickets.id = $1::UUID
2026-01-31 19:36:17,289 INFO sqlalchemy.engine.Engine [generated in 0.00014s] (UUID('f249a18d-7826-4e79-b6fb-b86b83b2d2e3'),)
WARNING: All log 
messages before absl:
:InitializeLog() is 
called are written 
to STDERR
E0000 00:00:176986837
7.328485   12552 alts
_credentials.cc:93] 
ALTS creds ignored. 
Not running on GCP 
and untrusted ALTS 
is not enabled.
Classification 
failed (Gemini): 429 
You exceeded your 
current quota, 
please check your 
plan and billing 
details. For more 
information on this 
error, head to: https
://ai.google.dev/gemi
ni-api/docs/rate-limi
ts. To monitor your 
current usage, head 
to: https://ai.dev/ra
te-limit. 
* Quota exceeded for 
metric: generativelan
guage.googleapis.com/
generate_content_free
_tier_input_token_cou
nt, limit: 0, model: 
gemini-2.0-flash
* Quota exceeded for 
metric: generativelan
guage.googleapis.com/
generate_content_free
_tier_requests, 
limit: 0, model: 
gemini-2.0-flash
* Quota exceeded for 
metric: generativelan
guage.googleapis.com/
generate_content_free
_tier_requests, 
limit: 0, model: 
gemini-2.0-flash
Please retry in 
38.759925349s. 
[links {
  description: 
"Learn more about 
Gemini API quotas"
  url: "https://ai.go
ogle.dev/gemini-api/d
ocs/rate-limits"
}
, violations {
  quota_metric: "gene
rativelanguage.google
apis.com/generate_con
tent_free_tier_input_
token_count"
  quota_id: "Generate
ContentInputTokensPer
ModelPerMinute-FreeTi
er"
  quota_dimensions {
    key: "model"
    value: 
"gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "gene
rativelanguage.google
apis.com/generate_con
tent_free_tier_reques
ts"
  quota_id: "Generate
RequestsPerMinutePerP
rojectPerModel-FreeTi
er"
  quota_dimensions {
    key: "model"
    value: 
"gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "gene
rativelanguage.google
apis.com/generate_con
tent_free_tier_reques
ts"
  quota_id: "Generate
RequestsPerDayPerProj
ectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: 
"gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 38
}
]. Switching to 
Rule-Based Fallback.
2026-01-31 19:36:17,466 INFO sqlalchemy.engine.Engine UPDATE tickets SET classification=$1::VARCHAR, classification_confidence=$2::NUMERIC(3, 2), priority=$3::INTEGER WHERE tickets.id = $4::UUID
2026-01-31 19:36:17,466 INFO sqlalchemy.engine.Engine [generated in 0.00019s] ('CHECKOUT_BREAK', 0.9, 10, UUID('f249a18d-7826-4e79-b6fb-b86b83b2d2e3'))
2026-01-31 19:36:17,483 INFO sqlalchemy.engine.Engine COMMIT
2026-01-31 19:36:17,491 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-31 19:36:17,491 INFO sqlalchemy.engine.Engine SELECT tickets.id, tickets.merchant_id, tickets.channel, tickets.raw_text, tickets.processed_text, tickets.classification, tickets.classification_confidence, tickets.priority, tickets.status, tickets.assigned_agent, tickets.root_cause, tickets.resolution_action, tickets.created_at, tickets.resolved_at 
FROM tickets 
WHERE tickets.id = $1::UUID
2026-01-31 19:36:17,491 INFO sqlalchemy.engine.Engine [generated in 0.00013s] (UUID('f249a18d-7826-4e79-b6fb-b86b83b2d2e3'),)
E0000 00:00:176986837
7.508973   12552 alts
_credentials.cc:93] 
ALTS creds ignored. 
Not running on GCP 
and untrusted ALTS 
is not enabled.
Agent execution 
failed: 429 You 
exceeded your 
current quota, 
please check your 
plan and billing 
details. For more 
information on this 
error, head to: https
://ai.google.dev/gemi
ni-api/docs/rate-limi
ts. To monitor your 
current usage, head 
to: https://ai.dev/ra
te-limit. 
* Quota exceeded for 
metric: generativelan
guage.googleapis.com/
generate_content_free
_tier_input_token_cou
nt, limit: 0, model: 
gemini-2.0-flash
* Quota exceeded for 
metric: generativelan
guage.googleapis.com/
generate_content_free
_tier_requests, 
limit: 0, model: 
gemini-2.0-flash
* Quota exceeded for 
metric: generativelan
guage.googleapis.com/
generate_content_free
_tier_requests, 
limit: 0, model: 
gemini-2.0-flash
Please retry in 
38.57427797s. [links 
{
  description: 
"Learn more about 
Gemini API quotas"
  url: "https://ai.go
ogle.dev/gemini-api/d
ocs/rate-limits"
}
, violations {
  quota_metric: "gene
rativelanguage.google
apis.com/generate_con
tent_free_tier_input_
token_count"
  quota_id: "Generate
ContentInputTokensPer
ModelPerMinute-FreeTi
er"
  quota_dimensions {
    key: "model"
    value: 
"gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "gene
rativelanguage.google
apis.com/generate_con
tent_free_tier_reques
ts"
  quota_id: "Generate
RequestsPerMinutePerP
rojectPerModel-FreeTi
er"
  quota_dimensions {
    key: "model"
    value: 
"gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
violations {
  quota_metric: "gene
rativelanguage.google
apis.com/generate_con
tent_free_tier_reques
ts"
  quota_id: "Generate
RequestsPerDayPerProj
ectPerModel-FreeTier"
  quota_dimensions {
    key: "model"
    value: 
"gemini-2.0-flash"
  }
  quota_dimensions {
    key: "location"
    value: "global"
  }
}
, retry_delay {
  seconds: 38
}
]
2026-01-31 19:36:17,649 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61948 - "POST /v1/tickets/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:61955 - "GET /v1/tickets/f249a18d-7826-4e79-b6fb-b86b83b2d2e3 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61975 - "GET /health/live HTTP/1.1" 200 OK
2026-01-31 19:37:19,178 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-31 19:37:19,178 INFO sqlalchemy.engine.Engine SELECT 1
2026-01-31 19:37:19,178 INFO sqlalchemy.engine.Engine [cached since 64.47s ago] ()
2026-01-31 19:37:19,195 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61977 - "GET /health/ready HTTP/1.1" 200 OK
2026-01-31 19:37:21,566 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-31 19:37:21,567 INFO sqlalchemy.engine.Engine INSERT INTO tickets (id, merchant_id, channel, raw_text, processed_text, classification, classification_confidence, priority, status, assigned_agent, root_cause, resolution_action, resolved_at) VALUES ($1::UUID, $2::UUID, $3::ticket_channel, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::NUMERIC(3, 2), $8::INTEGER, $9::VARCHAR, $10::agent_assignment, $11::VARCHAR, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE) RETURNING tickets.created_at
2026-01-31 19:37:21,567 INFO sqlalchemy.engine.Engine [cached since 64.42s ago] (UUID('ea0cf878-ef75-4a7f-a2f4-9c391a437094'), UUID('e0f3e602-0069-4076-97bb-c334b6bcaaf9'), 'test', 'Checkout button disappeared after migration', None, None, None, None, 'analyzing', 'pending', None, None, None)
2026-01-31 19:37:21,585 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61982 - "POST /v1/tickets/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception 
in ASGI application
Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 545, in 
_prepare_and_execute
    self._rows = 
deque(await prepared_
stmt.fetch(*parameter
s))
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 177, in fetch
    data = await self
.__bind_execute(args,
 0, timeout)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 268, in 
__bind_execute
    data, status, _ 
= await 
self.__do_execute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 257, in 
__do_execute
    return await 
executor(protocol)
  File "asyncpg/proto
col/protocol.pyx", 
line 205, in 
bind_execute
asyncpg.exceptions.In
validTextRepresentati
onError: invalid 
input value for enum 
ticket_channel: 
"test"

The above exception 
was the direct cause 
of the following 
exception:

Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1967, in 
_exec_single_context
    self.dialect.do_e
xecute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\default.p
y", line 951, in 
do_execute
    cursor.execute(st
atement, parameters)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 580, in execute
    self._adapt_conne
ction.await_(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
132, in await_only
    return current.pa
rent.switch(awaitable
)  # type: ignore[no-
any-return,attr-defin
ed] # noqa: E501
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
196, in 
greenlet_spawn
    value = await 
result
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 558, in 
_prepare_and_execute
    self._handle_exce
ption(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 508, in 
_handle_exception
    self._adapt_conne
ction._handle_excepti
on(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 792, in 
_handle_exception
    raise 
translated_error 
from error
sqlalchemy.dialects.p
ostgresql.asyncpg.Asy
ncAdapt_asyncpg_dbapi
.Error: <class 'async
pg.exceptions.Invalid
TextRepresentationErr
or'>: invalid input 
value for enum 
ticket_channel: 
"test"

The above exception 
was the direct cause 
of the following 
exception:

Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\uvicor
n\protocols\http\http
tools_impl.py", line 
409, in run_asgi
    result = await 
app(  # type: ignore[
func-returns-value]
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\uvicor
n\middleware\proxy_he
aders.py", line 60, 
in __call__
    return await 
self.app(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\applications.py", 
line 1082, in 
__call__
    await super().__c
all__(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\applications.py",
 line 113, in 
__call__
    await self.middle
ware_stack(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\errors
.py", line 186, in 
__call__
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\errors
.py", line 164, in 
__call__
    await 
self.app(scope, 
receive, _send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\except
ions.py", line 63, 
in __call__
    await wrap_app_ha
ndling_exceptions(sel
f.app, conn)(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 53, in 
wrapped_app
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 42, in 
wrapped_app
    await app(scope, 
receive, sender)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 716, in __call__
    await self.middle
ware_stack(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 736, in app
    await 
route.handle(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 290, in handle
    await 
self.app(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 78, in app
    await wrap_app_ha
ndling_exceptions(app
, request)(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 53, in 
wrapped_app
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 42, in 
wrapped_app
    await app(scope, 
receive, sender)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 75, in app
    response = await 
f(request)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\routing.py", line 
308, in app
    raw_response = 
await run_endpoint_fu
nction(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\routing.py", line 
219, in 
run_endpoint_function
    return await depe
ndant.call(**values)
  File "C:\Users\hp\D
esktop\Cyber Cypher\h
ackathon-spec\app\api
\v1\tickets.py", 
line 43, in 
create_ticket
    await db.commit()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\ext\asyncio\sess
ion.py", line 1014, 
in commit
    await greenlet_sp
awn(self.sync_session
.commit)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
203, in 
greenlet_spawn
    result = 
context.switch(value)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 2032, in commit
    trans.commit(_to_
root=True)
  File "<string>", 
line 2, in commit
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\state_change
s.py", line 137, in 
_go
    ret_value = 
fn(self, *arg, **kw)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 1313, in commit
    
self._prepare_impl()
  File "<string>", 
line 2, in 
_prepare_impl
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\state_change
s.py", line 137, in 
_go
    ret_value = 
fn(self, *arg, **kw)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 1288, in 
_prepare_impl
    
self.session.flush()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4345, in flush
    
self._flush(objects)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4480, in _flush
    with 
util.safe_reraise():
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\langhelpers
.py", line 224, in 
__exit__
    raise exc_value.w
ith_traceback(exc_tb)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4441, in _flush
    flush_context.exe
cute()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\unitofwork.p
y", line 466, in 
execute
    rec.execute(self)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\unitofwork.p
y", line 642, in 
execute
    util.preloaded.or
m_persistence.save_ob
j(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\persistence.
py", line 93, in 
save_obj
    _emit_insert_stat
ements(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\persistence.
py", line 1233, in _e
mit_insert_statements
    result = 
connection.execute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1419, in 
execute
    return meth(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\sql\elements.py"
, line 526, in _execu
te_on_connection
    return connection
._execute_clauseeleme
nt(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1641, in _execu
te_clauseelement
    ret = self._execu
te_context(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1846, in 
_execute_context
    return self._exec
_single_context(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1986, in 
_exec_single_context
    self._handle_dbap
i_exception(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 2355, in _handl
e_dbapi_exception
    raise sqlalchemy_
exception.with_traceb
ack(exc_info[2]) 
from e
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1967, in 
_exec_single_context
    self.dialect.do_e
xecute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\default.p
y", line 951, in 
do_execute
    cursor.execute(st
atement, parameters)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 580, in execute
    self._adapt_conne
ction.await_(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
132, in await_only
    return current.pa
rent.switch(awaitable
)  # type: ignore[no-
any-return,attr-defin
ed] # noqa: E501
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
196, in 
greenlet_spawn
    value = await 
result
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 558, in 
_prepare_and_execute
    self._handle_exce
ption(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 508, in 
_handle_exception
    self._adapt_conne
ction._handle_excepti
on(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 792, in 
_handle_exception
    raise 
translated_error 
from error
sqlalchemy.exc.DBAPIE
rror: (sqlalchemy.dia
lects.postgresql.asyn
cpg.Error) <class 'as
yncpg.exceptions.Inva
lidTextRepresentation
Error'>: invalid 
input value for enum 
ticket_channel: 
"test"
[SQL: INSERT INTO 
tickets (id, 
merchant_id, 
channel, raw_text, 
processed_text, 
classification, class
ification_confidence,
 priority, status, 
assigned_agent, 
root_cause, 
resolution_action, 
resolved_at) VALUES 
($1::UUID, $2::UUID, 
$3::ticket_channel, 
$4::VARCHAR, 
$5::VARCHAR, 
$6::VARCHAR, 
$7::NUMERIC(3, 2), 
$8::INTEGER, 
$9::VARCHAR, $10::age
nt_assignment, 
$11::VARCHAR, 
$12::VARCHAR, 
$13::TIMESTAMP WITH 
TIME ZONE) RETURNING 
tickets.created_at]
[parameters: (UUID('e
a0cf878-ef75-4a7f-a2f
4-9c391a437094'), UUI
D('e0f3e602-0069-4076
-97bb-c334b6bcaaf9'),
 'test', 'Checkout 
button disappeared 
after migration', 
None, None, None, 
None, 'analyzing', 
'pending', None, 
None, None)]
(Background on this 
error at: https://sql
alche.me/e/20/dbapi)
2026-01-31 19:37:23,640 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-31 19:37:23,640 INFO sqlalchemy.engine.Engine INSERT INTO tickets (id, merchant_id, channel, raw_text, processed_text, classification, classification_confidence, priority, status, assigned_agent, root_cause, resolution_action, resolved_at) VALUES ($1::UUID, $2::UUID, $3::ticket_channel, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::NUMERIC(3, 2), $8::INTEGER, $9::VARCHAR, $10::agent_assignment, $11::VARCHAR, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE) RETURNING tickets.created_at
2026-01-31 19:37:23,640 INFO sqlalchemy.engine.Engine [cached since 66.49s ago] (UUID('50421ff5-5109-4bf8-b7d2-d06d0f43b155'), UUID('e0f3e602-0069-4076-97bb-c334b6bcaaf9'), 'test', 'API returning 401 unauthorized', None, None, None, None, 'analyzing', 'pending', None, None, None)
2026-01-31 19:37:23,657 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61984 - "POST /v1/tickets/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception 
in ASGI application
Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 545, in 
_prepare_and_execute
    self._rows = 
deque(await prepared_
stmt.fetch(*parameter
s))
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 177, in fetch
    data = await self
.__bind_execute(args,
 0, timeout)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 268, in 
__bind_execute
    data, status, _ 
= await 
self.__do_execute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 257, in 
__do_execute
    return await 
executor(protocol)
  File "asyncpg/proto
col/protocol.pyx", 
line 205, in 
bind_execute
asyncpg.exceptions.In
validTextRepresentati
onError: invalid 
input value for enum 
ticket_channel: 
"test"

The above exception 
was the direct cause 
of the following 
exception:

Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1967, in 
_exec_single_context
    self.dialect.do_e
xecute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\default.p
y", line 951, in 
do_execute
    cursor.execute(st
atement, parameters)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 580, in execute
    self._adapt_conne
ction.await_(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
132, in await_only
    return current.pa
rent.switch(awaitable
)  # type: ignore[no-
any-return,attr-defin
ed] # noqa: E501
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
196, in 
greenlet_spawn
    value = await 
result
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 558, in 
_prepare_and_execute
    self._handle_exce
ption(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 508, in 
_handle_exception
    self._adapt_conne
ction._handle_excepti
on(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 792, in 
_handle_exception
    raise 
translated_error 
from error
sqlalchemy.dialects.p
ostgresql.asyncpg.Asy
ncAdapt_asyncpg_dbapi
.Error: <class 'async
pg.exceptions.Invalid
TextRepresentationErr
or'>: invalid input 
value for enum 
ticket_channel: 
"test"

The above exception 
was the direct cause 
of the following 
exception:

Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\uvicor
n\protocols\http\http
tools_impl.py", line 
409, in run_asgi
    result = await 
app(  # type: ignore[
func-returns-value]
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\uvicor
n\middleware\proxy_he
aders.py", line 60, 
in __call__
    return await 
self.app(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\applications.py", 
line 1082, in 
__call__
    await super().__c
all__(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\applications.py",
 line 113, in 
__call__
    await self.middle
ware_stack(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\errors
.py", line 186, in 
__call__
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\errors
.py", line 164, in 
__call__
    await 
self.app(scope, 
receive, _send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\except
ions.py", line 63, 
in __call__
    await wrap_app_ha
ndling_exceptions(sel
f.app, conn)(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 53, in 
wrapped_app
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 42, in 
wrapped_app
    await app(scope, 
receive, sender)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 716, in __call__
    await self.middle
ware_stack(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 736, in app
    await 
route.handle(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 290, in handle
    await 
self.app(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 78, in app
    await wrap_app_ha
ndling_exceptions(app
, request)(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 53, in 
wrapped_app
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 42, in 
wrapped_app
    await app(scope, 
receive, sender)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 75, in app
    response = await 
f(request)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\routing.py", line 
308, in app
    raw_response = 
await run_endpoint_fu
nction(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\routing.py", line 
219, in 
run_endpoint_function
    return await depe
ndant.call(**values)
  File "C:\Users\hp\D
esktop\Cyber Cypher\h
ackathon-spec\app\api
\v1\tickets.py", 
line 43, in 
create_ticket
    await db.commit()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\ext\asyncio\sess
ion.py", line 1014, 
in commit
    await greenlet_sp
awn(self.sync_session
.commit)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
203, in 
greenlet_spawn
    result = 
context.switch(value)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 2032, in commit
    trans.commit(_to_
root=True)
  File "<string>", 
line 2, in commit
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\state_change
s.py", line 137, in 
_go
    ret_value = 
fn(self, *arg, **kw)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 1313, in commit
    
self._prepare_impl()
  File "<string>", 
line 2, in 
_prepare_impl
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\state_change
s.py", line 137, in 
_go
    ret_value = 
fn(self, *arg, **kw)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 1288, in 
_prepare_impl
    
self.session.flush()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4345, in flush
    
self._flush(objects)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4480, in _flush
    with 
util.safe_reraise():
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\langhelpers
.py", line 224, in 
__exit__
    raise exc_value.w
ith_traceback(exc_tb)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4441, in _flush
    flush_context.exe
cute()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\unitofwork.p
y", line 466, in 
execute
    rec.execute(self)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\unitofwork.p
y", line 642, in 
execute
    util.preloaded.or
m_persistence.save_ob
j(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\persistence.
py", line 93, in 
save_obj
    _emit_insert_stat
ements(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\persistence.
py", line 1233, in _e
mit_insert_statements
    result = 
connection.execute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1419, in 
execute
    return meth(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\sql\elements.py"
, line 526, in _execu
te_on_connection
    return connection
._execute_clauseeleme
nt(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1641, in _execu
te_clauseelement
    ret = self._execu
te_context(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1846, in 
_execute_context
    return self._exec
_single_context(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1986, in 
_exec_single_context
    self._handle_dbap
i_exception(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 2355, in _handl
e_dbapi_exception
    raise sqlalchemy_
exception.with_traceb
ack(exc_info[2]) 
from e
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1967, in 
_exec_single_context
    self.dialect.do_e
xecute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\default.p
y", line 951, in 
do_execute
    cursor.execute(st
atement, parameters)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 580, in execute
    self._adapt_conne
ction.await_(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
132, in await_only
    return current.pa
rent.switch(awaitable
)  # type: ignore[no-
any-return,attr-defin
ed] # noqa: E501
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
196, in 
greenlet_spawn
    value = await 
result
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 558, in 
_prepare_and_execute
    self._handle_exce
ption(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 508, in 
_handle_exception
    self._adapt_conne
ction._handle_excepti
on(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 792, in 
_handle_exception
    raise 
translated_error 
from error
sqlalchemy.exc.DBAPIE
rror: (sqlalchemy.dia
lects.postgresql.asyn
cpg.Error) <class 'as
yncpg.exceptions.Inva
lidTextRepresentation
Error'>: invalid 
input value for enum 
ticket_channel: 
"test"
[SQL: INSERT INTO 
tickets (id, 
merchant_id, 
channel, raw_text, 
processed_text, 
classification, class
ification_confidence,
 priority, status, 
assigned_agent, 
root_cause, 
resolution_action, 
resolved_at) VALUES 
($1::UUID, $2::UUID, 
$3::ticket_channel, 
$4::VARCHAR, 
$5::VARCHAR, 
$6::VARCHAR, 
$7::NUMERIC(3, 2), 
$8::INTEGER, 
$9::VARCHAR, $10::age
nt_assignment, 
$11::VARCHAR, 
$12::VARCHAR, 
$13::TIMESTAMP WITH 
TIME ZONE) RETURNING 
tickets.created_at]
[parameters: (UUID('5
0421ff5-5109-4bf8-b7d
2-d06d0f43b155'), UUI
D('e0f3e602-0069-4076
-97bb-c334b6bcaaf9'),
 'test', 'API 
returning 401 
unauthorized', None, 
None, None, None, 
'analyzing', 
'pending', None, 
None, None)]
(Background on this 
error at: https://sql
alche.me/e/20/dbapi)
2026-01-31 19:37:25,707 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-31 19:37:25,708 INFO sqlalchemy.engine.Engine INSERT INTO tickets (id, merchant_id, channel, raw_text, processed_text, classification, classification_confidence, priority, status, assigned_agent, root_cause, resolution_action, resolved_at) VALUES ($1::UUID, $2::UUID, $3::ticket_channel, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::NUMERIC(3, 2), $8::INTEGER, $9::VARCHAR, $10::agent_assignment, $11::VARCHAR, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE) RETURNING tickets.created_at
2026-01-31 19:37:25,708 INFO sqlalchemy.engine.Engine [cached since 68.56s ago] (UUID('68f426fc-59ea-426a-b835-95cbb7091896'), UUID('e0f3e602-0069-4076-97bb-c334b6bcaaf9'), 'test', 'Webhook not receiving payload', None, None, None, None, 'analyzing', 'pending', None, None, None)
2026-01-31 19:37:25,724 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61986 - "POST /v1/tickets/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception 
in ASGI application
Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 545, in 
_prepare_and_execute
    self._rows = 
deque(await prepared_
stmt.fetch(*parameter
s))
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 177, in fetch
    data = await self
.__bind_execute(args,
 0, timeout)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 268, in 
__bind_execute
    data, status, _ 
= await 
self.__do_execute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 257, in 
__do_execute
    return await 
executor(protocol)
  File "asyncpg/proto
col/protocol.pyx", 
line 205, in 
bind_execute
asyncpg.exceptions.In
validTextRepresentati
onError: invalid 
input value for enum 
ticket_channel: 
"test"

The above exception 
was the direct cause 
of the following 
exception:

Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1967, in 
_exec_single_context
    self.dialect.do_e
xecute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\default.p
y", line 951, in 
do_execute
    cursor.execute(st
atement, parameters)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 580, in execute
    self._adapt_conne
ction.await_(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
132, in await_only
    return current.pa
rent.switch(awaitable
)  # type: ignore[no-
any-return,attr-defin
ed] # noqa: E501
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
196, in 
greenlet_spawn
    value = await 
result
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 558, in 
_prepare_and_execute
    self._handle_exce
ption(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 508, in 
_handle_exception
    self._adapt_conne
ction._handle_excepti
on(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 792, in 
_handle_exception
    raise 
translated_error 
from error
sqlalchemy.dialects.p
ostgresql.asyncpg.Asy
ncAdapt_asyncpg_dbapi
.Error: <class 'async
pg.exceptions.Invalid
TextRepresentationErr
or'>: invalid input 
value for enum 
ticket_channel: 
"test"

The above exception 
was the direct cause 
of the following 
exception:

Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\uvicor
n\protocols\http\http
tools_impl.py", line 
409, in run_asgi
    result = await 
app(  # type: ignore[
func-returns-value]
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\uvicor
n\middleware\proxy_he
aders.py", line 60, 
in __call__
    return await 
self.app(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\applications.py", 
line 1082, in 
__call__
    await super().__c
all__(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\applications.py",
 line 113, in 
__call__
    await self.middle
ware_stack(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\errors
.py", line 186, in 
__call__
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\errors
.py", line 164, in 
__call__
    await 
self.app(scope, 
receive, _send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\except
ions.py", line 63, 
in __call__
    await wrap_app_ha
ndling_exceptions(sel
f.app, conn)(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 53, in 
wrapped_app
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 42, in 
wrapped_app
    await app(scope, 
receive, sender)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 716, in __call__
    await self.middle
ware_stack(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 736, in app
    await 
route.handle(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 290, in handle
    await 
self.app(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 78, in app
    await wrap_app_ha
ndling_exceptions(app
, request)(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 53, in 
wrapped_app
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 42, in 
wrapped_app
    await app(scope, 
receive, sender)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 75, in app
    response = await 
f(request)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\routing.py", line 
308, in app
    raw_response = 
await run_endpoint_fu
nction(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\routing.py", line 
219, in 
run_endpoint_function
    return await depe
ndant.call(**values)
  File "C:\Users\hp\D
esktop\Cyber Cypher\h
ackathon-spec\app\api
\v1\tickets.py", 
line 43, in 
create_ticket
    await db.commit()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\ext\asyncio\sess
ion.py", line 1014, 
in commit
    await greenlet_sp
awn(self.sync_session
.commit)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
203, in 
greenlet_spawn
    result = 
context.switch(value)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 2032, in commit
    trans.commit(_to_
root=True)
  File "<string>", 
line 2, in commit
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\state_change
s.py", line 137, in 
_go
    ret_value = 
fn(self, *arg, **kw)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 1313, in commit
    
self._prepare_impl()
  File "<string>", 
line 2, in 
_prepare_impl
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\state_change
s.py", line 137, in 
_go
    ret_value = 
fn(self, *arg, **kw)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 1288, in 
_prepare_impl
    
self.session.flush()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4345, in flush
    
self._flush(objects)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4480, in _flush
    with 
util.safe_reraise():
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\langhelpers
.py", line 224, in 
__exit__
    raise exc_value.w
ith_traceback(exc_tb)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4441, in _flush
    flush_context.exe
cute()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\unitofwork.p
y", line 466, in 
execute
    rec.execute(self)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\unitofwork.p
y", line 642, in 
execute
    util.preloaded.or
m_persistence.save_ob
j(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\persistence.
py", line 93, in 
save_obj
    _emit_insert_stat
ements(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\persistence.
py", line 1233, in _e
mit_insert_statements
    result = 
connection.execute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1419, in 
execute
    return meth(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\sql\elements.py"
, line 526, in _execu
te_on_connection
    return connection
._execute_clauseeleme
nt(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1641, in _execu
te_clauseelement
    ret = self._execu
te_context(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1846, in 
_execute_context
    return self._exec
_single_context(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1986, in 
_exec_single_context
    self._handle_dbap
i_exception(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 2355, in _handl
e_dbapi_exception
    raise sqlalchemy_
exception.with_traceb
ack(exc_info[2]) 
from e
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1967, in 
_exec_single_context
    self.dialect.do_e
xecute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\default.p
y", line 951, in 
do_execute
    cursor.execute(st
atement, parameters)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 580, in execute
    self._adapt_conne
ction.await_(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
132, in await_only
    return current.pa
rent.switch(awaitable
)  # type: ignore[no-
any-return,attr-defin
ed] # noqa: E501
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
196, in 
greenlet_spawn
    value = await 
result
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 558, in 
_prepare_and_execute
    self._handle_exce
ption(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 508, in 
_handle_exception
    self._adapt_conne
ction._handle_excepti
on(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 792, in 
_handle_exception
    raise 
translated_error 
from error
sqlalchemy.exc.DBAPIE
rror: (sqlalchemy.dia
lects.postgresql.asyn
cpg.Error) <class 'as
yncpg.exceptions.Inva
lidTextRepresentation
Error'>: invalid 
input value for enum 
ticket_channel: 
"test"
[SQL: INSERT INTO 
tickets (id, 
merchant_id, 
channel, raw_text, 
processed_text, 
classification, class
ification_confidence,
 priority, status, 
assigned_agent, 
root_cause, 
resolution_action, 
resolved_at) VALUES 
($1::UUID, $2::UUID, 
$3::ticket_channel, 
$4::VARCHAR, 
$5::VARCHAR, 
$6::VARCHAR, 
$7::NUMERIC(3, 2), 
$8::INTEGER, 
$9::VARCHAR, $10::age
nt_assignment, 
$11::VARCHAR, 
$12::VARCHAR, 
$13::TIMESTAMP WITH 
TIME ZONE) RETURNING 
tickets.created_at]
[parameters: (UUID('6
8f426fc-59ea-426a-b83
5-95cbb7091896'), UUI
D('e0f3e602-0069-4076
-97bb-c334b6bcaaf9'),
 'test', 'Webhook 
not receiving 
payload', None, 
None, None, None, 
'analyzing', 
'pending', None, 
None, None)]
(Background on this 
error at: https://sql
alche.me/e/20/dbapi)
2026-01-31 19:37:27,776 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-31 19:37:27,777 INFO sqlalchemy.engine.Engine INSERT INTO tickets (id, merchant_id, channel, raw_text, processed_text, classification, classification_confidence, priority, status, assigned_agent, root_cause, resolution_action, resolved_at) VALUES ($1::UUID, $2::UUID, $3::ticket_channel, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::NUMERIC(3, 2), $8::INTEGER, $9::VARCHAR, $10::agent_assignment, $11::VARCHAR, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE) RETURNING tickets.created_at
2026-01-31 19:37:27,777 INFO sqlalchemy.engine.Engine [cached since 70.63s ago] (UUID('73ac3f3e-610b-4f8c-9201-7acb1420c28c'), UUID('e0f3e602-0069-4076-97bb-c334b6bcaaf9'), 'test', 'Docs unclear how to setup', None, None, None, None, 'analyzing', 'pending', None, None, None)
2026-01-31 19:37:27,793 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61988 - "POST /v1/tickets/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception 
in ASGI application
Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 545, in 
_prepare_and_execute
    self._rows = 
deque(await prepared_
stmt.fetch(*parameter
s))
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 177, in fetch
    data = await self
.__bind_execute(args,
 0, timeout)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 268, in 
__bind_execute
    data, status, _ 
= await 
self.__do_execute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 257, in 
__do_execute
    return await 
executor(protocol)
  File "asyncpg/proto
col/protocol.pyx", 
line 205, in 
bind_execute
asyncpg.exceptions.In
validTextRepresentati
onError: invalid 
input value for enum 
ticket_channel: 
"test"

The above exception 
was the direct cause 
of the following 
exception:

Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1967, in 
_exec_single_context
    self.dialect.do_e
xecute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\default.p
y", line 951, in 
do_execute
    cursor.execute(st
atement, parameters)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 580, in execute
    self._adapt_conne
ction.await_(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
132, in await_only
    return current.pa
rent.switch(awaitable
)  # type: ignore[no-
any-return,attr-defin
ed] # noqa: E501
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
196, in 
greenlet_spawn
    value = await 
result
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 558, in 
_prepare_and_execute
    self._handle_exce
ption(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 508, in 
_handle_exception
    self._adapt_conne
ction._handle_excepti
on(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 792, in 
_handle_exception
    raise 
translated_error 
from error
sqlalchemy.dialects.p
ostgresql.asyncpg.Asy
ncAdapt_asyncpg_dbapi
.Error: <class 'async
pg.exceptions.Invalid
TextRepresentationErr
or'>: invalid input 
value for enum 
ticket_channel: 
"test"

The above exception 
was the direct cause 
of the following 
exception:

Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\uvicor
n\protocols\http\http
tools_impl.py", line 
409, in run_asgi
    result = await 
app(  # type: ignore[
func-returns-value]
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\uvicor
n\middleware\proxy_he
aders.py", line 60, 
in __call__
    return await 
self.app(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\applications.py", 
line 1082, in 
__call__
    await super().__c
all__(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\applications.py",
 line 113, in 
__call__
    await self.middle
ware_stack(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\errors
.py", line 186, in 
__call__
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\errors
.py", line 164, in 
__call__
    await 
self.app(scope, 
receive, _send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\except
ions.py", line 63, 
in __call__
    await wrap_app_ha
ndling_exceptions(sel
f.app, conn)(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 53, in 
wrapped_app
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 42, in 
wrapped_app
    await app(scope, 
receive, sender)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 716, in __call__
    await self.middle
ware_stack(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 736, in app
    await 
route.handle(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 290, in handle
    await 
self.app(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 78, in app
    await wrap_app_ha
ndling_exceptions(app
, request)(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 53, in 
wrapped_app
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 42, in 
wrapped_app
    await app(scope, 
receive, sender)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 75, in app
    response = await 
f(request)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\routing.py", line 
308, in app
    raw_response = 
await run_endpoint_fu
nction(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\routing.py", line 
219, in 
run_endpoint_function
    return await depe
ndant.call(**values)
  File "C:\Users\hp\D
esktop\Cyber Cypher\h
ackathon-spec\app\api
\v1\tickets.py", 
line 43, in 
create_ticket
    await db.commit()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\ext\asyncio\sess
ion.py", line 1014, 
in commit
    await greenlet_sp
awn(self.sync_session
.commit)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
203, in 
greenlet_spawn
    result = 
context.switch(value)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 2032, in commit
    trans.commit(_to_
root=True)
  File "<string>", 
line 2, in commit
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\state_change
s.py", line 137, in 
_go
    ret_value = 
fn(self, *arg, **kw)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 1313, in commit
    
self._prepare_impl()
  File "<string>", 
line 2, in 
_prepare_impl
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\state_change
s.py", line 137, in 
_go
    ret_value = 
fn(self, *arg, **kw)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 1288, in 
_prepare_impl
    
self.session.flush()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4345, in flush
    
self._flush(objects)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4480, in _flush
    with 
util.safe_reraise():
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\langhelpers
.py", line 224, in 
__exit__
    raise exc_value.w
ith_traceback(exc_tb)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4441, in _flush
    flush_context.exe
cute()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\unitofwork.p
y", line 466, in 
execute
    rec.execute(self)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\unitofwork.p
y", line 642, in 
execute
    util.preloaded.or
m_persistence.save_ob
j(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\persistence.
py", line 93, in 
save_obj
    _emit_insert_stat
ements(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\persistence.
py", line 1233, in _e
mit_insert_statements
    result = 
connection.execute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1419, in 
execute
    return meth(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\sql\elements.py"
, line 526, in _execu
te_on_connection
    return connection
._execute_clauseeleme
nt(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1641, in _execu
te_clauseelement
    ret = self._execu
te_context(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1846, in 
_execute_context
    return self._exec
_single_context(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1986, in 
_exec_single_context
    self._handle_dbap
i_exception(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 2355, in _handl
e_dbapi_exception
    raise sqlalchemy_
exception.with_traceb
ack(exc_info[2]) 
from e
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1967, in 
_exec_single_context
    self.dialect.do_e
xecute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\default.p
y", line 951, in 
do_execute
    cursor.execute(st
atement, parameters)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 580, in execute
    self._adapt_conne
ction.await_(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
132, in await_only
    return current.pa
rent.switch(awaitable
)  # type: ignore[no-
any-return,attr-defin
ed] # noqa: E501
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
196, in 
greenlet_spawn
    value = await 
result
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 558, in 
_prepare_and_execute
    self._handle_exce
ption(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 508, in 
_handle_exception
    self._adapt_conne
ction._handle_excepti
on(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 792, in 
_handle_exception
    raise 
translated_error 
from error
sqlalchemy.exc.DBAPIE
rror: (sqlalchemy.dia
lects.postgresql.asyn
cpg.Error) <class 'as
yncpg.exceptions.Inva
lidTextRepresentation
Error'>: invalid 
input value for enum 
ticket_channel: 
"test"
[SQL: INSERT INTO 
tickets (id, 
merchant_id, 
channel, raw_text, 
processed_text, 
classification, class
ification_confidence,
 priority, status, 
assigned_agent, 
root_cause, 
resolution_action, 
resolved_at) VALUES 
($1::UUID, $2::UUID, 
$3::ticket_channel, 
$4::VARCHAR, 
$5::VARCHAR, 
$6::VARCHAR, 
$7::NUMERIC(3, 2), 
$8::INTEGER, 
$9::VARCHAR, $10::age
nt_assignment, 
$11::VARCHAR, 
$12::VARCHAR, 
$13::TIMESTAMP WITH 
TIME ZONE) RETURNING 
tickets.created_at]
[parameters: (UUID('7
3ac3f3e-610b-4f8c-920
1-7acb1420c28c'), UUI
D('e0f3e602-0069-4076
-97bb-c334b6bcaaf9'),
 'test', 'Docs 
unclear how to 
setup', None, None, 
None, None, 
'analyzing', 
'pending', None, 
None, None)]
(Background on this 
error at: https://sql
alche.me/e/20/dbapi)
2026-01-31 19:37:29,859 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-31 19:37:29,860 INFO sqlalchemy.engine.Engine INSERT INTO tickets (id, merchant_id, channel, raw_text, processed_text, classification, classification_confidence, priority, status, assigned_agent, root_cause, resolution_action, resolved_at) VALUES ($1::UUID, $2::UUID, $3::ticket_channel, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::NUMERIC(3, 2), $8::INTEGER, $9::VARCHAR, $10::agent_assignment, $11::VARCHAR, $12::VARCHAR, $13::TIMESTAMP WITH TIME ZONE) RETURNING tickets.created_at
2026-01-31 19:37:29,860 INFO sqlalchemy.engine.Engine [cached since 72.71s ago] (UUID('7b9312d6-2e3f-42e3-8460-bb843f89e240'), UUID('e0f3e602-0069-4076-97bb-c334b6bcaaf9'), 'test', 'Config file has wrong URL', None, None, None, None, 'analyzing', 'pending', None, None, None)
2026-01-31 19:37:29,891 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61991 - "POST /v1/tickets/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception 
in ASGI application
Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 545, in 
_prepare_and_execute
    self._rows = 
deque(await prepared_
stmt.fetch(*parameter
s))
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 177, in fetch
    data = await self
.__bind_execute(args,
 0, timeout)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 268, in 
__bind_execute
    data, status, _ 
= await 
self.__do_execute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\asyncp
g\prepared_stmt.py", 
line 257, in 
__do_execute
    return await 
executor(protocol)
  File "asyncpg/proto
col/protocol.pyx", 
line 205, in 
bind_execute
asyncpg.exceptions.In
validTextRepresentati
onError: invalid 
input value for enum 
ticket_channel: 
"test"

The above exception 
was the direct cause 
of the following 
exception:

Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1967, in 
_exec_single_context
    self.dialect.do_e
xecute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\default.p
y", line 951, in 
do_execute
    cursor.execute(st
atement, parameters)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 580, in execute
    self._adapt_conne
ction.await_(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
132, in await_only
    return current.pa
rent.switch(awaitable
)  # type: ignore[no-
any-return,attr-defin
ed] # noqa: E501
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
196, in 
greenlet_spawn
    value = await 
result
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 558, in 
_prepare_and_execute
    self._handle_exce
ption(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 508, in 
_handle_exception
    self._adapt_conne
ction._handle_excepti
on(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 792, in 
_handle_exception
    raise 
translated_error 
from error
sqlalchemy.dialects.p
ostgresql.asyncpg.Asy
ncAdapt_asyncpg_dbapi
.Error: <class 'async
pg.exceptions.Invalid
TextRepresentationErr
or'>: invalid input 
value for enum 
ticket_channel: 
"test"

The above exception 
was the direct cause 
of the following 
exception:

Traceback (most 
recent call last):
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\uvicor
n\protocols\http\http
tools_impl.py", line 
409, in run_asgi
    result = await 
app(  # type: ignore[
func-returns-value]
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\uvicor
n\middleware\proxy_he
aders.py", line 60, 
in __call__
    return await 
self.app(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\applications.py", 
line 1082, in 
__call__
    await super().__c
all__(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\applications.py",
 line 113, in 
__call__
    await self.middle
ware_stack(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\errors
.py", line 186, in 
__call__
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\errors
.py", line 164, in 
__call__
    await 
self.app(scope, 
receive, _send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\middleware\except
ions.py", line 63, 
in __call__
    await wrap_app_ha
ndling_exceptions(sel
f.app, conn)(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 53, in 
wrapped_app
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 42, in 
wrapped_app
    await app(scope, 
receive, sender)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 716, in __call__
    await self.middle
ware_stack(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 736, in app
    await 
route.handle(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 290, in handle
    await 
self.app(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 78, in app
    await wrap_app_ha
ndling_exceptions(app
, request)(scope, 
receive, send)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 53, in 
wrapped_app
    raise exc
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\_exception_handle
r.py", line 42, in 
wrapped_app
    await app(scope, 
receive, sender)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\starle
tte\routing.py", 
line 75, in app
    response = await 
f(request)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\routing.py", line 
308, in app
    raw_response = 
await run_endpoint_fu
nction(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\fastap
i\routing.py", line 
219, in 
run_endpoint_function
    return await depe
ndant.call(**values)
  File "C:\Users\hp\D
esktop\Cyber Cypher\h
ackathon-spec\app\api
\v1\tickets.py", 
line 43, in 
create_ticket
    await db.commit()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\ext\asyncio\sess
ion.py", line 1014, 
in commit
    await greenlet_sp
awn(self.sync_session
.commit)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
203, in 
greenlet_spawn
    result = 
context.switch(value)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 2032, in commit
    trans.commit(_to_
root=True)
  File "<string>", 
line 2, in commit
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\state_change
s.py", line 137, in 
_go
    ret_value = 
fn(self, *arg, **kw)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 1313, in commit
    
self._prepare_impl()
  File "<string>", 
line 2, in 
_prepare_impl
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\state_change
s.py", line 137, in 
_go
    ret_value = 
fn(self, *arg, **kw)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 1288, in 
_prepare_impl
    
self.session.flush()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4345, in flush
    
self._flush(objects)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4480, in _flush
    with 
util.safe_reraise():
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\langhelpers
.py", line 224, in 
__exit__
    raise exc_value.w
ith_traceback(exc_tb)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\session.py",
 line 4441, in _flush
    flush_context.exe
cute()
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\unitofwork.p
y", line 466, in 
execute
    rec.execute(self)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\unitofwork.p
y", line 642, in 
execute
    util.preloaded.or
m_persistence.save_ob
j(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\persistence.
py", line 93, in 
save_obj
    _emit_insert_stat
ements(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\orm\persistence.
py", line 1233, in _e
mit_insert_statements
    result = 
connection.execute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1419, in 
execute
    return meth(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\sql\elements.py"
, line 526, in _execu
te_on_connection
    return connection
._execute_clauseeleme
nt(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1641, in _execu
te_clauseelement
    ret = self._execu
te_context(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1846, in 
_execute_context
    return self._exec
_single_context(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1986, in 
_exec_single_context
    self._handle_dbap
i_exception(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 2355, in _handl
e_dbapi_exception
    raise sqlalchemy_
exception.with_traceb
ack(exc_info[2]) 
from e
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\base.py",
 line 1967, in 
_exec_single_context
    self.dialect.do_e
xecute(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\engine\default.p
y", line 951, in 
do_execute
    cursor.execute(st
atement, parameters)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 580, in execute
    self._adapt_conne
ction.await_(
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
132, in await_only
    return current.pa
rent.switch(awaitable
)  # type: ignore[no-
any-return,attr-defin
ed] # noqa: E501
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\util\_concurrenc
y_py3k.py", line 
196, in 
greenlet_spawn
    value = await 
result
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 558, in 
_prepare_and_execute
    self._handle_exce
ption(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 508, in 
_handle_exception
    self._adapt_conne
ction._handle_excepti
on(error)
  File "C:\Users\hp\A
ppData\Local\Programs
\Python\Python310\lib
\site-packages\sqlalc
hemy\dialects\postgre
sql\asyncpg.py", 
line 792, in 
_handle_exception
    raise 
translated_error 
from error
sqlalchemy.exc.DBAPIE
rror: (sqlalchemy.dia
lects.postgresql.asyn
cpg.Error) <class 'as
yncpg.exceptions.Inva
lidTextRepresentation
Error'>: invalid 
input value for enum 
ticket_channel: 
"test"
[SQL: INSERT INTO 
tickets (id, 
merchant_id, 
channel, raw_text, 
processed_text, 
classification, class
ification_confidence,
 priority, status, 
assigned_agent, 
root_cause, 
resolution_action, 
resolved_at) VALUES 
($1::UUID, $2::UUID, 
$3::ticket_channel, 
$4::VARCHAR, 
$5::VARCHAR, 
$6::VARCHAR, 
$7::NUMERIC(3, 2), 
$8::INTEGER, 
$9::VARCHAR, $10::age
nt_assignment, 
$11::VARCHAR, 
$12::VARCHAR, 
$13::TIMESTAMP WITH 
TIME ZONE) RETURNING 
tickets.created_at]
[parameters: (UUID('7
b9312d6-2e3f-42e3-846
0-bb843f89e240'), UUI
D('e0f3e602-0069-4076
-97bb-c334b6bcaaf9'),
 'test', 'Config 
file has wrong URL', 
None, None, None, 
None, 'analyzing', 
'pending', None, 
None, None)]
(Background on this 
error at: https://sql
alche.me/e/20/dbapi)
